importWatcherfrom'core/observer/watcher'import{noop}from'shared/util'import{currentInstance}from'../currentInstance'exporttypeEffectScheduler=(...args:any[])=>any/***@internalsincewearenotexposingthisinVue2,it'susedonlyfor*internaltesting.*/exportfunctioneffect(fn:()=>any,scheduler?:(cb:any)=>void){constwatcher=newWatcher(currentInstance,fn,noop,{sync:true})if(scheduler){watcher.update=()=>{scheduler(()=>watcher.run())}}}