import{parseText}from'compiler/parser/text-parser'import{parseStyleText}from'web/util/style'import{getAndRemoveAttr,getBindingAttr,baseWarn}from'compiler/helpers'import{ASTElement,CompilerOptions,ModuleOptions}from'types/compiler'functiontransformNode(el:ASTElement,options:CompilerOptions){constwarn=options.warn||baseWarnconststaticStyle=getAndRemoveAttr(el,'style')if(staticStyle){/*istanbulignoreif*/if(__DEV__){constres=parseText(staticStyle,options.delimiters)if(res){warn(`style="${staticStyle}":`+'Interpolationinsideattributeshasbeenremoved.'+'Usev-bindorthecolonshorthandinstead.Forexample,'+'insteadof<divstyle="{{val}}">,use<div:style="val">.',el.rawAttrsMap['style'])}}el.staticStyle=JSON.stringify(parseStyleText(staticStyle))}conststyleBinding=getBindingAttr(el,'style',false/*getStatic*/)if(styleBinding){el.styleBinding=styleBinding}}functiongenData(el:ASTElement):string{letdata=''if(el.staticStyle){data+=`staticStyle:${el.staticStyle},`}if(el.styleBinding){data+=`style:(${el.styleBinding}),`}returndata}exportdefault{staticKeys:['staticStyle'],transformNode,genData}asModuleOptions