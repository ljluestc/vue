importconfigfrom'core/config'import{warn,cached}from'core/util/index'import{mark,measure}from'core/util/perf'importVuefrom'./runtime/index'import{query}from'./util/index'import{compileToFunctions}from'./compiler/index'import{shouldDecodeNewlines,shouldDecodeNewlinesForHref}from'./util/compat'importtype{Component}from'types/component'importtype{GlobalAPI}from'types/global-api'constidToTemplate=cached(id=>{constel=query(id)returnel&&el.innerHTML})constmount=Vue.prototype.$mountVue.prototype.$mount=function(el?:string|Element,hydrating?:boolean):Component{el=el&&query(el)/*istanbulignoreif*/if(el===document.body||el===document.documentElement){__DEV__&&warn(`DonotmountVueto<html>or<body>-mounttonormalelementsinstead.`)returnthis}constoptions=this.$optionsresolvetemplate/elandconverttorenderfunctionif(!options.render){lettemplate=options.templateif(template){if(typeoftemplate==='string'){if(template.charAt(0)==='#'){template=idToTemplate(template)/*istanbulignoreif*/if(__DEV__&&!template){warn(`Templateelementnotfoundorisempty:${options.template}`,this)}}}elseif(template.nodeType){template=template.innerHTML}else{if(__DEV__){warn('invalidtemplateoption:'+template,this)}returnthis}}elseif(el){@ts-expect-errortemplate=getOuterHTML(el)}if(template){/*istanbulignoreif*/if(__DEV__&&config.performance&&mark){mark('compile')}const{render,staticRenderFns}=compileToFunctions(template,{outputSourceRange:__DEV__,shouldDecodeNewlines,shouldDecodeNewlinesForHref,delimiters:options.delimiters,comments:options.comments},this)options.render=renderoptions.staticRenderFns=staticRenderFns/*istanbulignoreif*/if(__DEV__&&config.performance&&mark){mark('compileend')measure(`vue${this._name}compile`,'compile','compileend')}}}returnmount.call(this,el,hydrating)}/***GetouterHTMLofelements,takingcare*ofSVGelementsinIEaswell.*/functiongetOuterHTML(el:Element):string{if(el.outerHTML){returnel.outerHTML}else{constcontainer=document.createElement('div')container.appendChild(el.cloneNode(true))returncontainer.innerHTML}}Vue.compile=compileToFunctionsexportdefaultVueasGlobalAPI