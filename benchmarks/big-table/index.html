<!DOCTYPEhtml><htmllang="en"><head><metacharset="utf-8"><title></title><scriptsrc="../../dist/vue.min.js"></script><linkrel="stylesheet"href="style.css"><linkrel="stylesheet"href="demo.css"></head><body><divid="el"><h1>RenderingDynamicBigTable</h1><p>Reference:<ahref="http://insin.github.io/ui-lib-samples/large-datasets/index.html">insin/ui-lib-samples/large-datasets</a></p><p><span>{{rows}}x{{cols}},{{optimized?'with':'without'}}optimization.{{msg}}</span></p><p><buttonv-if="optimized"@click="loadBase">Disableoptimization</button><buttonv-else@click="loadOptimized">Enableoptimization(Object.freeze)</button><button@click="unmount">Unmount</button><button@click="rerender">Rerenderwithfreshdata</button></p><form><strong>FilterData</strong>:<inputtype="text"v-model="filter"><!--Iftheuserisfilteringthedata,wewanttooffersomeinsightintothebreadthofthefiltering.--><spanv-if="filter">&mdash;Filtering<strong>{{filter}}</strong>over{{dataPoints}}datapoints,{{visibleCount()}}found.</span></form><tablewidth="100%"cellspacing="2":class="{filtered:filter}"><trv-for="rowingrid"><th>{{row.id}}</th><tdv-for="iteminrow.items"class="item":class="{hidden:!matches(item)}">{{item.value}}</td></tr></table></div><script>varROWS=1000varCOLS=10varOPTIMIZED=window.location.hash==='#optimized'window.onhashchange=function(){window.location.reload()}functiongenerateGrid(rowCount,columnCount){varvaluePoints=["Daenerys","Jon","Sansa","Arya","Stannis","Gregor","Tyrion","Theon","Joffrey","Ramsay","Cersei","Bran","Margaery","Melisandre","Daario","Jamie","Eddard","Myrcella","Robb","Jorah","Petyr","Tommen","Sandor","Oberyn","Drogo","Ygritte"]varvalueIndex=0vargrid=[]for(varr=0;r<rowCount;r++){varrow={id:r,items:[]}for(varc=0;c<columnCount;c++){row.items.push({id:(r+"-"+c),value:valuePoints[valueIndex]})if(++valueIndex>=valuePoints.length){valueIndex=0}}grid.push(row)}returnOPTIMIZED?Object.freeze(grid):grid}vargrid=generateGrid(ROWS,COLS)vars=window.performance.now()console.profile('a')varvm=newVue({el:'#el',data:{cols:COLS,rows:ROWS,optimized:OPTIMIZED,msg:'loading...',grid:grid,dataPoints:grid.length*grid[0].items.length,filter:''},methods:{matches:function(item){returnitem.value.toLowerCase().indexOf(this.filter.toLowerCase())>-1},visibleCount:function(){varcount=0vargrid=this.gridfor(vari=0,l=grid.length;i<l;i++){varrow=grid[i].itemsfor(varj=0,k=row.length;j<k;j++){varitem=row[j]varmatched=!this.filter||this.matches(item)if(matched){count++}}}returncount},loadBase:function(){window.location.hash=''},loadOptimized:function(){window.location.hash='#optimized'},unmount:function(){console.profile('unmount')vars=window.performance.now()this.grid=[]setTimeout(function(){vm.msg='umounttook:'+(window.performance.now()-s).toFixed(2)+'ms'console.profileEnd('unmount')},0)},rerender:function(){vargrid=generateGrid(1000,10)vars=window.performance.now()console.profile('rerender')this.grid=gridsetTimeout(function(){vm.msg='rerendertook:'+(window.performance.now()-s).toFixed(2)+'ms'console.profileEnd('rerender')},0)}}})console.profileEnd('a')setTimeout(function(){vm.msg='initialrendertook:'+(window.performance.now()-s).toFixed(2)+'ms'},0)</script></body></html>