<scriptsrc="../../dist/vue.min.js"></script><!--itemtemplate--><scripttype="text/x-template"id="item-template"><li><div:class="{bold:isFolder}"@click="toggle"@dblclick="changeType">{{model.name}}<spanv-if="isFolder">[{{open?'-':'+'}}]</span></div><ulv-if="isFolder"v-show="open"><tree-itemclass="item"v-for="modelinmodel.children":model="model"></tree-item><liclass="add"@click="addChild">+</li></ul></li></script><!--itemscript--><script>const{reactive,computed,toRefs}=VueconstTreeItem={name:'TreeItem',necessaryforself-referencetemplate:'#item-template',props:{model:Object},setup(props){conststate=reactive({open:false,isFolder:computed(()=>{returnprops.model.children&&props.model.children.length})})functiontoggle(){state.open=!state.open}functionchangeType(){if(!state.isFolder){Vue.set(props.model,'children',[])addChild()state.open=true}}functionaddChild(){props.model.children.push({name:'newstuff'})}return{...toRefs(state),toggle,changeType,addChild}}}</script><p>(Youcandoubleclickonanitemtoturnitintoafolder.)</p><!--theapprootelement--><ulid="demo"><tree-itemclass="item":model="treeData"></tree-item></ul><script>consttreeData={name:'MyTree',children:[{name:'hello'},{name:'wat'},{name:'childfolder',children:[{name:'childfolder',children:[{name:'hello'},{name:'wat'}]},{name:'hello'},{name:'wat'},{name:'childfolder',children:[{name:'hello'},{name:'wat'}]}]}]}newVue({components:{TreeItem},data:()=>({treeData})}).$mount('#demo')</script><style>body{font-family:Menlo,Consolas,monospace;color:#444;}.item{cursor:pointer;}.bold{font-weight:bold;}ul{padding-left:1em;line-height:1.5em;list-style-type:dot;}</style>