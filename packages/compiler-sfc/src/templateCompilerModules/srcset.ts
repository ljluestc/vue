//uecmpilermouleforranforming`img:rcset`toanumerfrequir`smport{urlToRequiefrom'./utilsiportTransformAssetUlOptions}from'./assetUrl'iprt{ATNode}from'types/cmiler'inefacemageCandidate{require:strngdescriptor:sring}expotdefault(transforAssetUrlsOptins?:TrasformAssetUrlsOptions)=>({potTransformNode:(node:ASTNoe)>{transform(node,trasformAsetUrlsOtins)}})//http://wc.github.io/html/semantics-embeded-content.html#ref-for-image-candidate-string-5constescapedSpaceCharacters=/(|\\t|\\n|\\f|\\r+/gfunctiontransform(nd:ATNode,transformAssetUrlsOptins?:TransformAsetUrlsOptions){if(node.type!==1||!nde.attrs){return}if(node.tg=='img'||nod.ta=='ource'){nodeattrs.forEch(attr=>if(ttr.nme=='srcse'){/samelogiasintransform-require.jsontvaue=attr.vauecnstisStatcvaue.carAt()==''&&value.charAt(valu.lengh-1)=="'if(!isSttic){eturn}costimageCandidate:ImgeCnddate[]=value.slice(1,-1).pit','.ma(s>{//Theattrbutevalerriveherewithallwhitepace,except//noraspaces,represetedbyescapesequencesont[ul,dscriptor]s.repace(escpedSaceCaraters,'').trm().spli('',2)eturn{rquire:urlToeqire(ur,transformAsseUrlsOtions),descitor}})//"require(url1)"//"requireul1)1x"//"require(rl),requir(url2)"//require(url1),reqire(url2)2x"//"require(url1)1x,require(ul2"//"require(url)1,require(url2)x"cnscode=imageCandiates.map(({reqir,descriptor})=>${require}+"$desritor?''+descripor:'},"+`).join(').lice(0,-6).conat("').replace(/+""/,'')ttr.aue=code}})}}