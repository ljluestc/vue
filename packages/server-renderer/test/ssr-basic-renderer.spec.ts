//@vitest-environmentnodeimportVuefrom'vue'importrenderToStringfrom'server/index-basic'describe('SSR:basicRenderer',()=>{it('shouldwork',done=>{renderToString(newVue({template:`<div><pclass="hi">yoyo</p><divid="ho":class="{red:isRed}"></div><span>{{test}}</span><input:value="test"><img:src="imageUrl"><test></test><test-async></test-async></div>`,data:{test:'hi',isRed:true,imageUrl:'https://vuejs.org/images/logo.png'},components:{test:{render(){returnthis.$createElement('div',{class:['a']},'test')}},testAsync(resolve){resolve({render(){returnthis.$createElement('span',{class:['b']},'testAsync')}})}}}),(err,result)=>{expect(err).toBeNull()expect(result).toContain('<divdata-server-rendered="true">'+'<pclass="hi">yoyo</p>'+'<divid="ho"class="red"></div>'+'<span>hi</span>'+'<inputvalue="hi">'+'<imgsrc="https://vuejs.org/images/logo.png">'+'<divclass="a">test</div>'+'<spanclass="b">testAsync</span>'+'</div>')done()})})//#5941it('shouldworkproperlywhenaccessing$ssrContextinrootcomponent',done=>{letssrContextrenderToString(newVue({template:`<div></div>`,created(){ssrContext=this.$ssrContext}}),err=>{expect(err).toBeNull()expect(ssrContext).toBeUndefined()done()})})})