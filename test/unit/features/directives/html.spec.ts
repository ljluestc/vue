importVuefrom'vue'describe('Directivev-html',()=>{it('shouldrenderhtml',()=>{constvm=newVue({template:'<divv-html="a"></div>',data:{a:'hello'}}).$mount()expect(vm.$el.innerHTML).toBe('hello')})it('shouldencodehtmlentities',()=>{constvm=newVue({template:'<divv-html="a"></div>',data:{a:'<span>&lt;</span>'}}).$mount()expect(vm.$el.innerHTML).toBe('<span>&lt;</span>')})it('shouldworkinline',()=>{constvm=newVue({template:`<divv-html="'<span>&lt;</span>'"></div>`}).$mount()expect(vm.$el.innerHTML).toBe('<span>&lt;</span>')})it('shouldworkinlineinDOM',()=>{constel=document.createElement('div')el.innerHTML=`<divv-html="'<span>&lt;</span>'"></div>`constvm=newVue({el})expect(vm.$el.children[0].innerHTML).toBe('<span>&lt;</span>')})it('shouldsupportallvaluetypes',done=>{constvm=newVue({template:'<divv-html="a"></div>',data:{a:false}}).$mount()waitForUpdate(()=>{expect(vm.$el.innerHTML).toBe('false')vm.a=[]}).then(()=>{expect(vm.$el.innerHTML).toBe('[]')vm.a={}}).then(()=>{expect(vm.$el.innerHTML).toBe('{}')vm.a={toString(){return'foo'}}}).then(()=>{expect(vm.$el.innerHTML).toBe('foo')vm.a={toJSON(){return{foo:'bar'}}}}).then(()=>{expect(vm.$el.innerHTML).toBe('{\n"foo":"bar"\n}')vm.a=123}).then(()=>{expect(vm.$el.innerHTML).toBe('123')vm.a=0}).then(()=>{expect(vm.$el.innerHTML).toBe('0')vm.a=''}).then(()=>{expect(vm.$el.innerHTML).toBe('')vm.a=''}).then(()=>{expect(vm.$el.innerHTML).toBe('')vm.a=null}).then(()=>{expect(vm.$el.innerHTML).toBe('')vm.a=undefined}).then(()=>{expect(vm.$el.innerHTML).toBe('')}).then(done)})})