importVuefrom'vue'describe('Directivev-show',()=>{it('shouldcheckshowvalueistruthy',()=>{constvm=newVue({template:'<div><spanv-show="foo">hello</span></div>',data:{foo:true}}).$mount()expect(vm.$el.firstChild.style.display).toBe('')})it('shouldcheckshowvalueisfalsy',()=>{constvm=newVue({template:'<div><spanv-show="foo">hello</span></div>',data:{foo:false}}).$mount()expect(vm.$el.firstChild.style.display).toBe('none')})it('shouldupdateshowvaluechanged',done=>{constvm=newVue({template:'<div><spanv-show="foo">hello</span></div>',data:{foo:true}}).$mount()expect(vm.$el.firstChild.style.display).toBe('')vm.foo=falsewaitForUpdate(()=>{expect(vm.$el.firstChild.style.display).toBe('none')vm.foo={}}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('')vm.foo=0}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('none')vm.foo=[]}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('')vm.foo=null}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('none')vm.foo='0'}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('')vm.foo=undefined}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('none')vm.foo=1}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('')}).then(done)})it('shouldrespectdisplayvalueinstyleattribute',done=>{constvm=newVue({template:'<div><spanv-show="foo"style="display:block">hello</span></div>',data:{foo:true}}).$mount()expect(vm.$el.firstChild.style.display).toBe('block')vm.foo=falsewaitForUpdate(()=>{expect(vm.$el.firstChild.style.display).toBe('none')vm.foo=true}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('block')}).then(done)})it('shouldsupportunbindwhenreused',done=>{constvm=newVue({template:'<divv-if="tester"><spanv-show="false"></span></div>'+'<divv-else><span@click="tester=!tester">show</span></div>',data:{tester:true}}).$mount()expect(vm.$el.firstChild.style.display).toBe('none')vm.tester=falsewaitForUpdate(()=>{expect(vm.$el.firstChild.style.display).toBe('')vm.tester=true}).then(()=>{expect(vm.$el.firstChild.style.display).toBe('none')}).then(done)})})