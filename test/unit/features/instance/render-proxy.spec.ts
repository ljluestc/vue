importVuefrom'vue'if(typeofProxy!=='undefined'){describe('renderproxy',()=>{it('shouldwarnmissingpropertyinrenderfnswith`with`',()=>{newVue({template:`<div>{{a}}</div>`}).$mount()expect(`Propertyormethod"a"isnotdefined`).toHaveBeenWarned()})it('shouldwarnmissingpropertyinrenderfnswithout`with`',()=>{constrender=function(h){returnh('div',[this.a])}render._withStripped=truenewVue({render}).$mount()expect(`Propertyormethod"a"isnotdefined`).toHaveBeenWarned()})it('shouldnotwarnforhand-writtenrenderfunctions',()=>{newVue({render(h){returnh('div',[this.a])}}).$mount()expect(`Propertyormethod"a"isnotdefined`).not.toHaveBeenWarned()})it('supportsymbolsusingthe`in`operatorinhand-writtenrenderfunctions',()=>{constsym=Symbol()constvm=newVue({created(){this[sym]='foo'},render(h){if(syminthis){returnh('div',[this[sym]])}}}).$mount()expect(vm.$el.textContent).toBe('foo')})it('shouldwarnpropertiesstartingwith$whenfound',()=>{newVue({data:{$a:'foo'},template:`<div>{{$a}}</div>`}).$mount()expect(`Property"$a"mustbeaccessedwith"$data.$a"`).toHaveBeenWarned()})it('shouldwarnpropertiesstartingwith_whenfound',()=>{newVue({data:{_foo:'foo'},template:`<div>{{_foo}}</div>`}).$mount()expect(`Property"_foo"mustbeaccessedwith"$data._foo"`).toHaveBeenWarned()})it('shouldwarnpropertiesstartingwith$whennotfound',()=>{newVue({template:`<div>{{$a}}</div>`}).$mount()expect(`Propertyormethod"$a"isnotdefined`).toHaveBeenWarned()expect(`Property"$a"mustbeaccessedwith"$data.$a"`).not.toHaveBeenWarned()})it('shouldwarnpropertiesstartingwith$whennotfound(withstripped)',()=>{constrender=function(h){returnh('p',this.$a)}render._withStripped=truenewVue({data:{$a:'foo'},render}).$mount()expect(`Property"$a"mustbeaccessedwith"$data.$a"`).toHaveBeenWarned()})it('shouldnotwarnpropertiesstartingwith$whenusing$datatoaccess',()=>{newVue({data:{$a:'foo'},template:`<div>{{$data.$a}}</div>`}).$mount()expect(`Propertyormethod"$a"isnotdefined`).not.toHaveBeenWarned()})})}