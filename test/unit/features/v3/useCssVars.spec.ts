importVuefrom'vue'import{useCssVars,h,reactive,nextTick}from'v3'describe('useCssVars',()=>{asyncfunctionassertCssVars(getApp:(state:any)=>any){conststate=reactive({color:'red'})constApp=getApp(state)constvm=newVue(App).$mount()awaitnextTick()expect((vm.$elasHTMLElement).style.getPropertyValue(`--color`)).toBe(`red`)state.color='green'awaitnextTick()expect((vm.$elasHTMLElement).style.getPropertyValue(`--color`)).toBe(`green`)}test('basic',async()=>{awaitassertCssVars(state=>({setup(){//testreceivingrendercontextuseCssVars(vm=>({color:vm.color}))returnstate},render(){returnh('div')}}))})test('onHOCs',async()=>{constChild={render:()=>h('div')}awaitassertCssVars(state=>({setup(){useCssVars(()=>state)return()=>h(Child)}}))})})