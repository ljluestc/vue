importVuefrom'vue'describe('OptionsrenderError',()=>{it('shouldbeusedonrendererrors',done=>{Vue.config.errorHandler=()=>{}constvm=newVue({data:{ok:true},render(h){if(this.ok){returnh('div','ok')}else{thrownewError('no')}},renderError(h,err){returnh('div',err.toString())}}).$mount()expect(vm.$el.textContent).toBe('ok')vm.ok=falsewaitForUpdate(()=>{expect(vm.$el.textContent).toBe('Error:no')Vue.config.errorHandler=undefined}).then(done)})it('shouldpassonerrorsinrenderErrortoglobalhandler',()=>{constspy=(Vue.config.errorHandler=vi.fn())consterr=newError('renderError')constvm=newVue({render(){thrownewError('render')},renderError(){throwerr}}).$mount()expect(spy).toHaveBeenCalledWith(err,vm,'renderError')})})