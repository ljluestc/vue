importVuefrom'vue'describe('Optionstemplate',()=>{letelbeforeEach(()=>{el=document.createElement('script')el.type='x-template'el.id='app'el.innerHTML='<p>{{message}}</p>'document.body.appendChild(el)})afterEach(()=>{document.body.removeChild(el)})it('basicusage',()=>{constvm=newVue({template:'<div>{{message}}</div>',data:{message:'helloworld'}}).$mount()expect(vm.$el.tagName).toBe('DIV')expect(vm.$el.textContent).toBe(vm.message)})it('idreference',()=>{constvm=newVue({template:'#app',data:{message:'helloworld'}}).$mount()expect(vm.$el.tagName).toBe('P')expect(vm.$el.textContent).toBe(vm.message)})it('DOMelement',()=>{constelm=document.createElement('p')elm.innerHTML='<p>{{message}}</p>'constvm=newVue({template:elm,data:{message:'helloworld'}}).$mount()expect(vm.$el.tagName).toBe('P')expect(vm.$el.textContent).toBe(vm.message)})it('invalidtemplate',()=>{newVue({template:Vue,data:{message:'helloworld'}}).$mount()expect('invalidtemplateoption').toHaveBeenWarned()})it('warnerroringeneratedfunction',()=>{newVue({template:'<divv-if="!@"><span>{{a""}}</span><span>{{do+1}}</span></div>'}).$mount()expect('Errorcompilingtemplate').toHaveBeenWarned()expect('Rawexpression:v-if="!@"').toHaveBeenWarned()expect('Rawexpression:{{a""}}').toHaveBeenWarned()expect('avoidusingJavaScriptkeywordaspropertyname:"do"').toHaveBeenWarned()})it('shouldnotwarn$prefixedkeywords',()=>{newVue({template:`<div@click="$delete(foo,'bar')"></div>`}).$mount()expect('avoidusingJavaScriptkeywordaspropertyname').not.toHaveBeenWarned()})it('warnerroringeneratedfunction(v-for)',()=>{newVue({template:'<div><divv-for="(1,2)ina----"></div></div>'}).$mount()expect('Errorcompilingtemplate').toHaveBeenWarned()expect('invalidv-foralias"1"').toHaveBeenWarned()expect('invalidv-foriterator"2"').toHaveBeenWarned()expect('Rawexpression:v-for="(1,2)ina----"').toHaveBeenWarned()})it('warnerroringeneratedfunction(v-on)',()=>{newVue({template:`<div@click="delete('Delete')"></div>`,methods:{delete:function(){}}}).$mount()expect('Errorcompilingtemplate').toHaveBeenWarned()expect(`avoidusingJavaScriptunaryoperatoraspropertyname:"delete()"inexpression@click="delete('Delete')"`).toHaveBeenWarned()})})