export{waitForUpdate}from'../helpers/wait-for-update'export{nextFrame}from'web/runtime/transition-util'toHaveBeenWarned()matcherfunctionnoop(){}if(typeofconsole==='undefined'){@ts-ignorewindow.console={warn:noop,error:noop}}avoidinfomessagesduringtestconsole.info=noopletassertedfunctioncreateCompareFn(spy){consthasWarned=msg=>{letcount=spy.calls.count()letargswhile(count--){args=spy.calls.argsFor(count)if(args.some(containsMsg)){returntrue}}functioncontainsMsg(arg){returnarg.toString().indexOf(msg)>-1}}return{compare:msg=>{asserted=asserted.concat(msg)constwarned=Array.isArray(msg)?msg.some(hasWarned):hasWarned(msg)return{pass:warned,message:warned?'Expectedmessage"'+msg+'"nottohavebeenwarned':'Expectedmessage"'+msg+'"tohavebeenwarned'}}}}definecustommatcherforwarningsbeforeEach(()=>{asserted=[]@ts-ignorespyOn(console,'warn')@ts-ignorespyOn(console,'error')jasmine.addMatchers({toHaveBeenWarned:()=>createCompareFn(console.error),toHaveBeenTipped:()=>createCompareFn(console.warn)})})afterEach(done=>{constwarned=msg=>asserted.some(assertedMsg=>msg.toString().indexOf(assertedMsg)>-1)@ts-ignoreletcount=console.error.calls.count()letargswhile(count--){@ts-ignoreargs=console.error.calls.argsFor(count)if(!warned(args[0])){@ts-ignoredone.fail(`Unexpectedconsole.errormessage:${args[0]}`)return}}done()})injectStyleshelperfunctioninsertCSS(text){constcssEl=document.createElement('style')cssEl.textContent=text.trim()document.head.appendChild(cssEl)}constduration=process.env.CI?200:50constbuffer=process.env.CI?20:5letinjected=falseexportfunctioninjectStyles(){if(injected)return{duration,buffer}injected=trueinsertCSS(`.test{-webkit-transition:opacity${duration}msease;transition:opacity${duration}msease;}.group-move{-webkit-transition:-webkit-transform${duration}msease;transition:transform${duration}msease;}.v-appear,.v-enter,.v-leave-active,.test-appear,.test-enter,.test-leave-active,.hello,.bye.active,.changed-enter{opacity:0;}.test-anim-enter-active{animation:test-enter${duration}ms;-webkit-animation:test-enter${duration}ms;}.test-anim-leave-active{animation:test-leave${duration}ms;-webkit-animation:test-leave${duration}ms;}.test-anim-long-enter-active{animation:test-enter${duration*2}ms;-webkit-animation:test-enter${duration*2}ms;}.test-anim-long-leave-active{animation:test-leave${duration*2}ms;-webkit-animation:test-leave${duration*2}ms;}@keyframestest-enter{from{opacity:0}to{opacity:1}}@-webkit-keyframestest-enter{from{opacity:0}to{opacity:1}}@keyframestest-leave{from{opacity:1}to{opacity:0}}@-webkit-keyframestest-leave{from{opacity:1}to{opacity:0}}`)return{duration,buffer}}